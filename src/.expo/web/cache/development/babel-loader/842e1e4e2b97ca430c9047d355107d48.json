{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateAccountForm = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Text = _interopRequireDefault(require(\"react-native-web/dist/exports/Text\"));\n\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\n\nvar _smartpriceButton = require(\"../../buttons/smartprice-button/smartprice-button\");\n\nvar _createAccountForm = require(\"./create-account-form.styles\");\n\nvar _colors = require(\"../../utils/types/colors\");\n\nvar _smartpriceTooltip = require(\"../../buttons/tooltip/smartprice-tooltip\");\n\nvar _baseInput = require(\"../../inputs/base-input/base-input\");\n\nvar _dateMaskInput = require(\"../../inputs/mask-inputs/date-mask-input/date-mask-input\");\n\nvar _email = require(\"../../utils/validators/email.validator/email.validator\");\n\nvar _dateParser = require(\"../../utils/parsers/date-parser\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/willhwang/Desktop/react-native-smartprice/src/src/component/forms/create-account-form/create-account-form.tsx\";\n\nvar CreateAccountForm = function CreateAccountForm(_ref) {\n  var viewStyle = _ref.viewStyle,\n      phoneNumber = _ref.phoneNumber,\n      verificationCode = _ref.verificationCode,\n      verifyErrorMessage = _ref.verifyErrorMessage,\n      onCreateAccount = _ref.onCreateAccount;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      lastName = _useState4[0],\n      setLastName = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(''),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(''),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      dateOfBirth = _useState8[0],\n      setDateOfBirth = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(false),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      validEmail = _useState10[0],\n      setValidEmail = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(false),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      validDob = _useState12[0],\n      setValidDob = _useState12[1];\n\n  var onNextPressed = function onNextPressed() {\n    if (onCreateAccount) {\n      onCreateAccount({\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        phoneNumber: phoneNumber != null ? phoneNumber : '',\n        verifyCode: verificationCode != null ? verificationCode : '',\n        dateOfBirth: dateOfBirth\n      });\n    }\n  };\n\n  var onEmailChange = function onEmailChange(value) {\n    setEmail(value);\n    var val = (0, _email.isValidEmail)(value);\n    setValidEmail(val);\n  };\n\n  var onDobChange = function onDobChange(value) {\n    setDateOfBirth(value);\n\n    if ((0, _dateParser.getDateOfBirth)(value) !== null) {\n      setValidDob(true);\n    } else {\n      setValidDob(false);\n    }\n  };\n\n  var isButtonDisabled = firstName === '' || lastName === '' || !validEmail || !validDob;\n  return _react.default.createElement(_View.default, {\n    style: [_createAccountForm.createAccountFormStyles.containerViewStyle, viewStyle],\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_Text.default, {\n    style: _createAccountForm.createAccountFormStyles.titleContainerStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"Create an account\"), _react.default.createElement(_Text.default, {\n    style: _createAccountForm.createAccountFormStyles.paragraphMarginStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Prescryptive will provide you a free digital prescription savings card that you can use for your medication.\"), _react.default.createElement(_smartpriceTooltip.SmartpriceTooltip, {\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_View.default, {\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_View.default, {\n    style: _createAccountForm.createAccountFormStyles.formRowViewStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_baseInput.BaseInput, {\n    placeholder: \"First name\",\n    containerStyle: _createAccountForm.createAccountFormStyles.twoColumnInputViewStyle,\n    value: firstName,\n    onChangeText: setFirstName,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_baseInput.BaseInput, {\n    placeholder: \"Last name\",\n    containerStyle: _createAccountForm.createAccountFormStyles.twoColumnInputViewStyle,\n    value: lastName,\n    onChangeText: setLastName,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_View.default, {\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_baseInput.BaseInput, {\n    placeholder: \"Email address\",\n    value: email,\n    onChangeText: onEmailChange,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_View.default, {\n    style: _createAccountForm.createAccountFormStyles.formRowViewStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_dateMaskInput.DateMaskInput, {\n    date: dateOfBirth,\n    onDateChange: onDobChange,\n    errorMessageStyle: _createAccountForm.createAccountFormStyles.twoColumnErrorViewStyle,\n    viewStyle: _createAccountForm.createAccountFormStyles.twoColumnInputViewStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), _react.default.createElement(_baseInput.BaseInput, {\n    isDisabled: true,\n    value: phoneNumber,\n    containerStyle: _createAccountForm.createAccountFormStyles.twoColumnInputViewStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  })), _react.default.createElement(_Text.default, {\n    style: _createAccountForm.createAccountFormStyles.errorTextStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, verifyErrorMessage)), _react.default.createElement(_View.default, {\n    style: _createAccountForm.createAccountFormStyles.biggerVerticalMarginStyle,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_smartpriceButton.SmartpriceButton, {\n    label: \"Create account\",\n    onPress: onNextPressed,\n    backgroundColor: _colors.PurpleScale.regular,\n    color: _colors.GreyScale.white,\n    isDisabled: isButtonDisabled,\n    __self: _this,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  })));\n};\n\nexports.CreateAccountForm = CreateAccountForm;","map":{"version":3,"sources":["/Users/willhwang/Desktop/react-native-smartprice/src/src/component/forms/create-account-form/create-account-form.tsx"],"names":["CreateAccountForm","viewStyle","phoneNumber","verificationCode","verifyErrorMessage","onCreateAccount","firstName","setFirstName","lastName","setLastName","email","setEmail","dateOfBirth","setDateOfBirth","validEmail","setValidEmail","validDob","setValidDob","onNextPressed","verifyCode","onEmailChange","value","val","onDobChange","isButtonDisabled","createAccountFormStyles","containerViewStyle","titleContainerStyle","paragraphMarginStyle","formRowViewStyle","twoColumnInputViewStyle","twoColumnErrorViewStyle","errorTextStyle","biggerVerticalMarginStyle","PurpleScale","regular","GreyScale","white"],"mappings":";;;;;;;;;;;AACA;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;AAWO,IAAMA,iBAA2D,GAAG,SAA9DA,iBAA8D,OAMjD;AAAA,MALxBC,SAKwB,QALxBA,SAKwB;AAAA,MAJxBC,WAIwB,QAJxBA,WAIwB;AAAA,MAHxBC,gBAGwB,QAHxBA,gBAGwB;AAAA,MAFxBC,kBAEwB,QAFxBA,kBAEwB;AAAA,MADxBC,eACwB,QADxBA,eACwB;;AAAA,kBACU,qBAAiB,EAAjB,CADV;AAAA;AAAA,MACjBC,SADiB;AAAA,MACNC,YADM;;AAAA,mBAEQ,qBAAiB,EAAjB,CAFR;AAAA;AAAA,MAEjBC,QAFiB;AAAA,MAEPC,WAFO;;AAAA,mBAGE,qBAAiB,EAAjB,CAHF;AAAA;AAAA,MAGjBC,KAHiB;AAAA,MAGVC,QAHU;;AAAA,mBAIc,qBAAiB,EAAjB,CAJd;AAAA;AAAA,MAIjBC,WAJiB;AAAA,MAIJC,cAJI;;AAAA,mBAKY,qBAAkB,KAAlB,CALZ;AAAA;AAAA,MAKjBC,UALiB;AAAA,MAKLC,aALK;;AAAA,oBAMQ,qBAAkB,KAAlB,CANR;AAAA;AAAA,MAMjBC,QANiB;AAAA,MAMPC,WANO;;AAQxB,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAIb,eAAJ,EAAqB;AACnBA,MAAAA,eAAe,CAAC;AACdC,QAAAA,SAAS,EAATA,SADc;AAEdE,QAAAA,QAAQ,EAARA,QAFc;AAGdE,QAAAA,KAAK,EAALA,KAHc;AAIdR,QAAAA,WAAW,EAAEA,WAAF,WAAEA,WAAF,GAAiB,EAJd;AAKdiB,QAAAA,UAAU,EAAEhB,gBAAF,WAAEA,gBAAF,GAAsB,EALlB;AAMdS,QAAAA,WAAW,EAAXA;AANc,OAAD,CAAf;AAQD;AACF,GAXD;;AAaA,MAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAmB;AACvCV,IAAAA,QAAQ,CAACU,KAAD,CAAR;AACA,QAAMC,GAAG,GAAG,yBAAaD,KAAb,CAAZ;AACAN,IAAAA,aAAa,CAACO,GAAD,CAAb;AACD,GAJD;;AAMA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACF,KAAD,EAAmB;AACrCR,IAAAA,cAAc,CAACQ,KAAD,CAAd;;AACA,QAAI,gCAAeA,KAAf,MAA0B,IAA9B,EAAoC;AAClCJ,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KAFD,MAEO;AACLA,MAAAA,WAAW,CAAC,KAAD,CAAX;AACD;AACF,GAPD;;AASA,MAAMO,gBAAgB,GACpBlB,SAAS,KAAK,EAAd,IAAoBE,QAAQ,KAAK,EAAjC,IAAuC,CAACM,UAAxC,IAAsD,CAACE,QADzD;AAGA,SACE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAE,CAACS,2CAAwBC,kBAAzB,EAA6CzB,SAA7C,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEwB,2CAAwBE,mBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAKE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEF,2CAAwBG,oBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oHALF,EAUE,6BAAC,oCAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAYE,6BAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEH,2CAAwBI,gBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,oBAAD;AACE,IAAA,WAAW,EAAC,YADd;AAEE,IAAA,cAAc,EAAEJ,2CAAwBK,uBAF1C;AAGE,IAAA,KAAK,EAAExB,SAHT;AAIE,IAAA,YAAY,EAAEC,YAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,6BAAC,oBAAD;AACE,IAAA,WAAW,EAAC,WADd;AAEE,IAAA,cAAc,EAAEkB,2CAAwBK,uBAF1C;AAGE,IAAA,KAAK,EAAEtB,QAHT;AAIE,IAAA,YAAY,EAAEC,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,EAeE,6BAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,oBAAD;AACE,IAAA,WAAW,EAAC,eADd;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,YAAY,EAAEU,aAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,EAsBE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEK,2CAAwBI,gBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,4BAAD;AACE,IAAA,IAAI,EAAEjB,WADR;AAEE,IAAA,YAAY,EAAEW,WAFhB;AAGE,IAAA,iBAAiB,EAAEE,2CAAwBM,uBAH7C;AAIE,IAAA,SAAS,EAAEN,2CAAwBK,uBAJrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,6BAAC,oBAAD;AACE,IAAA,UAAU,EAAE,IADd;AAEE,IAAA,KAAK,EAAE5B,WAFT;AAGE,IAAA,cAAc,EAAEuB,2CAAwBK,uBAH1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAtBF,EAmCE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEL,2CAAwBO,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5B,kBADH,CAnCF,CAZF,EAoDE,6BAAC,aAAD;AAAM,IAAA,KAAK,EAAEqB,2CAAwBQ,yBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,6BAAC,kCAAD;AACE,IAAA,KAAK,EAAC,gBADR;AAEE,IAAA,OAAO,EAAEf,aAFX;AAGE,IAAA,eAAe,EAAEgB,oBAAYC,OAH/B;AAIE,IAAA,KAAK,EAAEC,kBAAUC,KAJnB;AAKE,IAAA,UAAU,EAAEb,gBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CApDF,CADF;AAgED,CA7GM","sourcesContent":["// Copyright 2021 Prescryptive Health, Inc.\nimport React, { FunctionComponent, useState } from 'react';\nimport { Text, View, StyleProp, ViewStyle } from 'react-native';\nimport { SmartpriceButton } from '../../buttons/smartprice-button/smartprice-button';\nimport { createAccountFormStyles } from './create-account-form.styles';\nimport { GreyScale, PurpleScale } from '../../utils/types/colors';\nimport { SmartpriceTooltip } from '../../buttons/tooltip/smartprice-tooltip';\nimport { BaseInput } from '../../inputs/base-input/base-input';\nimport { IFormData } from '../../api/smartprice-api';\nimport { DateMaskInput } from '../../inputs/mask-inputs/date-mask-input/date-mask-input';\nimport { isValidEmail } from '../../utils/validators/email.validator/email.validator';\nimport { getDateOfBirth } from '../../utils/parsers/date-parser';\n\nexport interface ISmartPriceModalProps {\n  viewStyle?: StyleProp<ViewStyle>;\n  phoneNumber?: string;\n  verificationCode?: string;\n  deviceToken?: string;\n  onCreateAccount?: (userInfo: IFormData) => void;\n  verifyErrorMessage?: string;\n}\n\nexport const CreateAccountForm: FunctionComponent<ISmartPriceModalProps> = ({\n  viewStyle,\n  phoneNumber,\n  verificationCode,\n  verifyErrorMessage,\n  onCreateAccount,\n}): React.ReactElement => {\n  const [firstName, setFirstName] = useState<string>('');\n  const [lastName, setLastName] = useState<string>('');\n  const [email, setEmail] = useState<string>('');\n  const [dateOfBirth, setDateOfBirth] = useState<string>('');\n  const [validEmail, setValidEmail] = useState<boolean>(false);\n  const [validDob, setValidDob] = useState<boolean>(false);\n\n  const onNextPressed = () => {\n    if (onCreateAccount) {\n      onCreateAccount({\n        firstName,\n        lastName,\n        email,\n        phoneNumber: phoneNumber ?? '',\n        verifyCode: verificationCode ?? '',\n        dateOfBirth,\n      });\n    }\n  };\n\n  const onEmailChange = (value: string) => {\n    setEmail(value);\n    const val = isValidEmail(value);\n    setValidEmail(val);\n  };\n\n  const onDobChange = (value: string) => {\n    setDateOfBirth(value);\n    if (getDateOfBirth(value) !== null) {\n      setValidDob(true);\n    } else {\n      setValidDob(false);\n    }\n  };\n\n  const isButtonDisabled =\n    firstName === '' || lastName === '' || !validEmail || !validDob;\n\n  return (\n    <View style={[createAccountFormStyles.containerViewStyle, viewStyle]}>\n      <Text style={createAccountFormStyles.titleContainerStyle}>\n        Create an account\n      </Text>\n\n      <Text style={createAccountFormStyles.paragraphMarginStyle}>\n        Prescryptive will provide you a free digital prescription savings card\n        that you can use for your medication.\n      </Text>\n\n      <SmartpriceTooltip />\n\n      <View>\n        <View style={createAccountFormStyles.formRowViewStyle}>\n          <BaseInput\n            placeholder='First name'\n            containerStyle={createAccountFormStyles.twoColumnInputViewStyle}\n            value={firstName}\n            onChangeText={setFirstName}\n          />\n          <BaseInput\n            placeholder='Last name'\n            containerStyle={createAccountFormStyles.twoColumnInputViewStyle}\n            value={lastName}\n            onChangeText={setLastName}\n          />\n        </View>\n        <View>\n          <BaseInput\n            placeholder='Email address'\n            value={email}\n            onChangeText={onEmailChange}\n          />\n        </View>\n        <View style={createAccountFormStyles.formRowViewStyle}>\n          <DateMaskInput\n            date={dateOfBirth}\n            onDateChange={onDobChange}\n            errorMessageStyle={createAccountFormStyles.twoColumnErrorViewStyle}\n            viewStyle={createAccountFormStyles.twoColumnInputViewStyle}\n          />\n          <BaseInput\n            isDisabled={true}\n            value={phoneNumber}\n            containerStyle={createAccountFormStyles.twoColumnInputViewStyle}\n          />\n        </View>\n        <Text style={createAccountFormStyles.errorTextStyle}>\n          {verifyErrorMessage}\n        </Text>\n      </View>\n\n      <View style={createAccountFormStyles.biggerVerticalMarginStyle}>\n        <SmartpriceButton\n          label='Create account'\n          onPress={onNextPressed}\n          backgroundColor={PurpleScale.regular}\n          color={GreyScale.white}\n          isDisabled={isButtonDisabled}\n        />\n      </View>\n    </View>\n  );\n};\n"]},"metadata":{},"sourceType":"script"}